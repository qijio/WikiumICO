'use strict';$(function(){if(fillHead(),setTimeout(setTimer,100),setInterval(setTimer,1e3),drawChartLine1(),drawChartLine2(),drawChartPie(),changeBgColor(),$(document).scroll(changeBgColor),$('#navbarToggler').on('show.bs.collapse',setBgColor).on('hidden.bs.collapse',changeBgColor),$(document).on('click','[data-toggle="lightbox"]',function(b){b.preventDefault(),$(this).ekkoLightbox()}).on('click','[data-toggle="clearCalc"]',function(b){b.preventDefault(),clearCalc()}),matchMedia){const b=window.matchMedia('(min-width: 575px)');b.addListener(widthChange),widthChange(b)}redrawGradientsOnResize(),setResizeHandler(redrawGradientsOnResize,250),particlesJS.load('head','./particlesjs-config.min.json'),$('#copy-smart-address').on('click',function(){selectText('smart-address'),document.execCommand('Copy'),$('#copy-smart-address').attr('title','\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D!').tooltip('show')}),$('#eth-input').on('change paste keyup',function(){calculate($('#eth-input'),$('#usd-input'),$('#token-input'))}),$('#usd-input').on('change paste keyup',function(){calculate($('#eth-input'),$('#usd-input'),$('#token-input'))}),$('#token-input').on('change paste keyup',function(){calculate($('#eth-input'),$('#usd-input'),$('#token-input'))}),$('#eth-input-modal').on('change paste keyup',function(){calculate($('#eth-input-modal'),$('#usd-input-modal'),$('#token-input-modal'))}),$('#usd-input-modal').on('change paste keyup',function(){calculate($('#eth-input-modal'),$('#usd-input-modal'),$('#token-input-modal'))}),$('#token-input-modal').on('change paste keyup',function(){calculate($('#eth-input-modal'),$('#usd-input-modal'),$('#token-input-modal'))}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(smoothScroll),AOS.init({once:!0,anchor:'top-bottom',offset:-5,delay:0});let a=$(window).outerHeight();$(window).resize(function(){$(window).outerHeight()==a||(a=$(window).outerHeight(),AOS.refresh())})});function fillHead(){$.getJSON('data.json',function(a){let b=new Date,c=toDate(a.startDate),e=toDate(a.preIcoDate),f=toDate(a.icoDate),g=toDate(a.endDate),h=0,j=c;b<e?(window.timerDate=e,window.currentPrice=a.ebPrice):b<f?(h=33.3,j=e,window.timerDate=f,window.currentPrice=a.preIcoPrice):b<g?(h=66.6,j=f,window.timerDate=g,window.currentPrice=a.icoPrice,$('#timerHeader').text('\u0414\u043E \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438:')):(h=66.6,j=g,window.timerDate=new Date(b.getFullYear()+1,0,0),$('#timerHeader').text('\u0414\u043E \u043D\u043E\u0432\u043E\u0433\u043E \u0433\u043E\u0434\u0430:'));let k=window.timerDate-b,l=window.timerDate-j,m=h+(100-100*(k/l))/3;$('#timeProgress').width(m.toFixed(2)+'%'),$('#ebPrice').text(a.ebPrice),$('#preIcoPrice').text(a.preIcoPrice),$('#icoPrice').text(a.icoPrice),$('#startDate').prop('title',a.startDate).tooltip(),$('#preIcoDate').prop('title',a.preIcoDate).tooltip(),$('#icoDate').prop('title',a.icoDate).tooltip(),$('#endDate').prop('title',a.endDate).tooltip(),$('#currentPrice').text(window.currentPrice.toFixed(2)),$('#discount10').text((0.9*window.currentPrice).toFixed(2)),$('#discount20').text((0.8*window.currentPrice).toFixed(2)),$('#discount30').text((0.7*window.currentPrice).toFixed(2)),$.getJSON('http://ico.hashpower.ru/json',function(n){window.usdEthCourse=n.Course/100;let o=n.CollectEth*window.usdEthCourse;$('#usdCollected').text(addSpaces(Math.round(o)));let p=0,q=[0,22.5,48.5,74.5,100],r=[0,7000000,12000000,20000000,30000000];o<r[1]||(o<r[2]?p=1:o<r[3]?p=2:p=3);let s=r[p+1]-o,t=r[p+1]-r[p],u=q[p]+(q[p+1]-q[p])*(1-s/t);$('#usdProgress').width(u.toFixed(2)+'%'),clearCalc()})})}function setTimer(){let a=window.timerDate-$.now(),b=Math.floor(a/86400000),c=Math.floor(a%86400000/3600000),e=Math.floor(a%3600000/60000),f=Math.floor(a%60000/1e3);$('#days').text(b),$('#hours').text(c),$('#minutes').text(e),$('#seconds').text(f),0>a&&fillHead()}function smoothScroll(a){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){let b=$(this.hash);b=b.length?b:$('[name='+this.hash.slice(1)+']'),b.length&&(a.preventDefault(),$('html, body').animate({scrollTop:b.offset().top},1e3,function(){let c=$(b);return(c.focus(),!c.is(':focus'))&&void(c.attr('tabindex','-1'),c.focus())}))}}function selectText(a){if(document.selection){let b=document.body.createTextRange();b.moveToElementText(document.getElementById(a)),b.select()}else if(window.getSelection){let b=document.createRange();b.selectNode(document.getElementById(a)),window.getSelection().removeAllRanges(),window.getSelection().addRange(b)}}function calculate(a,b,c){let e=a.val(),f=b.val(),g=c.val();if(a.is(':focus')){if(''==e)return void clearCalc();let h=(e*window.usdEthCourse).toFixed(2),j=getDiscount(h);b.val(h),c.val((h/j.price).toFixed(2))}else if(b.is(':focus')){if(''==f)return void clearCalc();let h=getDiscount(f);a.val((f/window.usdEthCourse).toFixed(2)),c.val((f/h.price).toFixed(2))}else if(c.is(':focus')){if(''==g)return void clearCalc();let h=g*$('#discount30').text();1e5>h&&(h=g*$('#discount20').text()),1e4>h&&(h=g*$('#discount10').text()),1e3>h&&(h=g*window.currentPrice),h=h.toFixed(2);let j=getDiscount(h),k=(h/j.price).toFixed(2);Math.ceil(g)<new Number(k)&&$('[id^="currentDiscount"] > strong').append(' (\u0432\u044B&nbsp;\u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435:&nbsp;'+k+'WTK)'),b.val(h),a.val((h/window.usdEthCourse).toFixed(2))}$('[id^="eth-input"]').val(a.val()),$('[id^="usd-input"]').val(b.val());$('[id^="token-input"]').val(c.val())}function getDiscount(a){let b='';return b=1e5<=a?new Discount('30%',$('#discount30').text()):1e4<=a?new Discount('20%',$('#discount20').text()):1e3<=a?new Discount('10%',$('#discount10').text()):new Discount('0%',window.currentPrice),b.price==window.currentPrice?$('[id^="currentDiscount"]').removeClass('show'):$('[id^="currentDiscount"]').addClass('show').children('strong').text(b.percent),b}function Discount(a,b){this.percent=a,this.price=b}function clearCalc(){let a=1,b=new Number((a*window.usdEthCourse).toFixed(2)),c=getDiscount(b),e=new Number((b/c.price).toFixed(2));$('[id^="eth-input"]').attr('placeholder',a.toLocaleString()).val(''),$('[id^="usd-input"]').attr('placeholder',b.toLocaleString()).val(''),$('[id^="token-input"]').attr('placeholder',e.toLocaleString()).val('')}function changeBgColor(){let a=$('#nav'),b=a.height(),c=document.body.scrollTop,e=document.documentElement.scrollTop,g=$('#navbarToggler').hasClass('show');a.toggleClass('bg-dark',c>b||e>b||g)}function setBgColor(){let a=$('#nav');!1==a.hasClass('bg-dark')&&a.addClass('bg-dark')}function drawChartLine1(){let a=getIncomeGradients();window.incomeChart=new Chart(a.ctx,{type:'line',data:{labels:['2018 Q1','Q2','Q3','Q4','2019 Q1','Q2','Q3','Q4','2020 Q1','Q2','Q3','Q4'],datasets:[{label:'\u0412\u044B\u0440\u0443\u0447\u043A\u0430',borderColor:a.stroke,pointBorderColor:a.stroke,pointBackgroundColor:a.stroke,pointHoverBackgroundColor:a.stroke,pointHoverBorderColor:a.stroke,pointBorderWidth:0,pointHoverRadius:8,pointHoverBorderWidth:0,pointRadius:5,fill:!0,backgroundColor:a.fill,borderWidth:4,data:[48154700,39314603,40994845,71298443,95644184,83700133,88795438,150371609,157450436,142215463,158049827,229366340]}]},options:{responsive:!0,legend:{display:!1},tooltips:{backgroundColor:'rgba(42, 36, 76, 0.8)',displayColors:!1,callbacks:{label:function(b,c){return addSpaces(c.datasets[0].data[b.index])+'\u20BD'}}},scales:{yAxes:[{ticks:{fontColor:'rgba(0,0,0,0.5)',fontStyle:'bold',beginAtZero:!1,maxTicksLimit:5,padding:5,callback:function(b){return b.toString().replace(/000000$/,' \u043C\u043B\u043D')}},gridLines:{drawTicks:!1,display:!1}}],xAxes:[{gridLines:{zeroLineColor:'transparent'},ticks:{padding:10,fontColor:'rgba(0,0,0,0.5)',fontStyle:'bold'}}]},plugins:{datalabels:{display:!1}}}})}function drawChartLine2(){let a=getUsersGradients();window.usersChart=new Chart(a.ctx,{type:'line',data:{labels:['2018 Q1','Q2','Q3','Q4','2019 Q1','Q2','Q3','Q4','2020 Q1','Q2','Q3','Q4'],datasets:[{label:'\u041A\u043B\u0438\u0435\u043D\u0442\u0441\u043A\u0430\u044F \u0431\u0430\u0437\u0430',borderColor:a.stroke,pointBorderColor:a.stroke,pointBackgroundColor:a.stroke,pointHoverBackgroundColor:a.stroke,pointHoverBorderColor:a.stroke,pointBorderWidth:0,pointHoverRadius:8,pointHoverBorderWidth:0,pointRadius:5,fill:!0,backgroundColor:a.fill,borderWidth:4,data:[1967845,2320226,2671004,3294182,4092418,4817161,5546652,6828962,8134502,9288355,10563068,12428764]}]},options:{responsive:!0,legend:{display:!1},tooltips:{backgroundColor:'rgba(20, 90, 50, 0.8)',displayColors:!1,callbacks:{label:function(b,c){return addSpaces(c.datasets[0].data[b.index])}}},scales:{yAxes:[{ticks:{fontColor:'rgba(0,0,0,0.5)',fontStyle:'bold',beginAtZero:!0,maxTicksLimit:5,padding:5,callback:function(b){return b.toString().replace(/000000$/,' \u043C\u043B\u043D')}},gridLines:{drawTicks:!1,display:!1}}],xAxes:[{gridLines:{zeroLineColor:'transparent'},ticks:{padding:10,fontColor:'rgba(0,0,0,0.5)',fontStyle:'bold'}}]},plugins:{datalabels:{display:!1}}}})}function drawChartPie(){let a=[10,5,10,10,12,8,15,5,10,15],b=['\u0424\u043E\u043D\u0434 \u043E\u043F\u043B\u0430\u0442\u044B \u0442\u0440\u0443\u0434\u0430','Antifrod','\u041C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0445 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432','\u0411\u0430\u0443\u043D\u0442\u0438','\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B','\u042D\u0434\u0432\u0430\u0439\u0437\u0435\u0440\u044B, \u044D\u0441\u043A\u0440\u043E\u0443, IR','\u041C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433 \u043D\u043E\u0432\u044B\u0445 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432','\u041E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435','\u0418\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u044F \u0438 \u043F\u0430\u0442\u0435\u043D\u0442\u044B','\u041E\u0441\u043D\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u0430'];for(let c=0;c<a.length;c++)b[c]=a[c]+'% \u2014 '+b[c];window.tokenChart=new Chart('tokenChart',{type:'pie',data:{labels:b,datasets:[{label:'\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u0435 \u0442\u043E\u043A\u0435\u043D\u043E\u0432',backgroundColor:['#4472C4','#5B9BD5','#ED7D31','#FFC000','#2ECC71','#70AD47','#16A085','#A5A5A5','#9B59B6','#E74C3C'],data:a}]},options:{responsive:!0,plugins:{datalabels:{backgroundColor:function(c){return c.dataset.backgroundColor},anchor:'end',borderColor:'white',borderRadius:25,borderWidth:2,color:'white',display:function(c){let e=c.dataset,f=e.data[c.dataIndex];return f+'%'},font:{weight:'bold'},formatter:function(c){return Math.round(c)+'%'}}},tooltips:{callbacks:{label:function(c,e){return e.labels[c.index]}}},legend:{position:'right'},layout:{padding:10}}})}function redrawGradientsOnResize(){let a=getIncomeGradients();window.incomeChart.data.datasets[0].borderColor=a.stroke,window.incomeChart.data.datasets[0].pointBorderColor=a.stroke,window.incomeChart.data.datasets[0].pointBackgroundColor=a.stroke,window.incomeChart.data.datasets[0].pointHoverBackgroundColor=a.stroke,window.incomeChart.data.datasets[0].pointHoverBorderColor=a.stroke,window.incomeChart.data.datasets[0].backgroundColor=a.fill,window.incomeChart.update();let b=getUsersGradients();window.usersChart.data.datasets[0].borderColor=b.stroke,window.usersChart.data.datasets[0].pointBorderColor=b.stroke,window.usersChart.data.datasets[0].pointBackgroundColor=b.stroke,window.usersChart.data.datasets[0].pointHoverBackgroundColor=b.stroke,window.usersChart.data.datasets[0].pointHoverBorderColor=b.stroke,window.usersChart.data.datasets[0].backgroundColor=b.fill,window.usersChart.update()}function getIncomeGradients(){let a=document.getElementById('incomeChart'),b=a.getContext('2d'),c=b.createLinearGradient(0,0,a.clientWidth,0);c.addColorStop(0,'#80b6f4'),c.addColorStop(1,'#8b50ca');let e=b.createLinearGradient(0,0,0,a.clientHeight);return e.addColorStop(0,'rgba(132, 146, 229, 0.8)'),e.addColorStop(0.75,'rgba(132, 146, 229, 0.0)'),{ctx:b,stroke:c,fill:e}}function getUsersGradients(){let a=document.getElementById('usersChart'),b=a.getContext('2d'),c=b.createLinearGradient(0,0,a.clientWidth,0);c.addColorStop(0,'#F1C40F'),c.addColorStop(1,'#2ECC71');let e=b.createLinearGradient(0,0,0,a.clientHeight);return e.addColorStop(0,'rgba(134, 200, 68, 0.8)'),e.addColorStop(0.75,'rgba(134, 200, 68, 0.0)'),{ctx:b,stroke:c,fill:e}}function widthChange(a){a.matches?(window.tokenChart.options.legend.position='right',window.tokenChart.options.legend.display=!0):window.tokenChart.options.legend.display=!1,window.tokenChart.update()}function addSpaces(a){a+='';let b=a.split('.'),c=b[0],e=1<b.length?'.'+b[1]:'',f=/(\d+)(\d{3})/;for(;f.test(c);)c=c.replace(f,'$1 $2');return c+e}function setResizeHandler(a,b){let c;window.addEventListener('resize',function(){c!=void 0&&(clearTimeout(c),c=void 0),c=setTimeout(function(){c=void 0,a()},b)})}function toDate(a){let b=a.split('.');return new Date(b[2],b[1]-1,b[0])}